<?xml version="1.0" encoding="utf-8"?>
<search>
  <entry>
    <title><![CDATA[在Github和OsChina(以及Coding)上部署Hexo]]></title>
    <url>%2F2017%2F12%2F18%2Fhexo-on-github-oschina%2F</url>
    <content type="text"><![CDATA[今天重新建立了博客, 后台是使用Hexo来驱动。第一篇文章自然就是介绍下如何建站的，一边共享信息一边备忘。 目的和好处对于卖🐎为生的大多数人，很多事情都是和代码相关的。写东西也罢，谈事情也罢，都会提到代码。而Github和OsChina(以及Coding)都是免费存代码的好地方。因此在Github和OsChina(以及Coding)上存放博客也是极好的。另一方面，省了独立服务器的费用也是很好的。之前使用dreamhost虽然也挺方便的，但是使用率并不高。再一个使用markdown格式离线写文章自然比之前用wordpress的富文本方式要更方便点。闲话不多说，进入正题。 具体步骤所涉及软件注意本文主要环境是Mac OSX12.6以及Ubuntu 16.04，因此后面行文中都会假设是在这两个系统上。 前置条件: Mac Homebrew Xcode command line tools Ubuntu APT 软件列表： git node, npm, hexo 还安装了hexo的两个plugin hexo-deployer-git (for Github/OsChina/Coding) hexo-generator-searchdb (for local search) 软件安装 gitMac: 1brew update &amp;&amp; brew install git Ubuntu: 1sudo aptitude update &amp;&amp; sudo aptitude install git node &amp; npmMac: 123brew update &amp;&amp; brew install nodenode -v #v9.3.0npm -v #5.6.0 Ubuntu: 12curl -sL https://deb.nodesource.com/setup_9.x | sudo -E bash -sudo apt-get install -y nodejs hexo 1npm i -g hexo 创建博客 创建一个本地目录 1mkdir -p ~/work/blog/myblog 初始化hexo项目 12cd ~/work/blog/mybloghexo init 安装常用插件 12npm i hexo-deployer-git --savenpm i hexo-generator-searchdb --save #optional if you don't want to enable local search 生成静态页面 1hexo generate #`hexo g` for short 本地预览 1hexo server #`hexo s` for short 至此，如果你只需要一个个人使用的日记本，那么功能已经具备，可以日常使用了。 日常使用 创建文章 1hexo new 'title' 使用编辑器如VIM，typora等编辑 1myblog/source/_posts/title.md 更新页面重新显示 123hexo cleanhexo generatehexo server 使用浏览器打开页面 1http://localhost:4000 部署至Github/OsChina(Gitee)/Coding大多数情况中, 大家还是愿意将博客托管在服务器上，这样其他朋友也可以阅读交流。双线部署有两个主要好处。 速度，可以国内线路使用OsChina/Coding，国外线路访问使用Github。 备份，等于两处备份，更加安全。 ⚠️ : 实际上你还是要经常备份myblog目录，因为部署的只是生成的静态页面而不是md文件。 首先注册OsChina, Coding和Github账号是必须的。 创建个人Pages ⚠️ : 这里创建的是个人Pages, 而不是项目Pages。因此在仓库的命名上是需要注意的。 例如在Github的新建Repo页面上:这里我的用户名是deepim, 因此如果我建立一个Repo名字符合deepim.github.io，那么这个Repo将会变成默认的个人博客。个人博客一个账号只能有一个，所以从图上可以看Github不让我再建立一个了。 OsChina的码云(Coding类似):⚠️ : 码云上和Github不一样的地方在于命名上。如图所示只需要账号名即可。同样，一个账号也只能有一个。 Hexo的部署配置修改myblog目录里面的配置文件 1_config.yml 使用如下配置。 123456deploy: type: git repo: github: git@github.com:deepim/deepim.github.io.git gitee: git@gitee.com:deepim/deepim.git branch: master 里面的github和gitee就是自己定义的Key，可以随便写。路径就是刚刚建立的个人博客地址。 使用SSH Key这其实是个可选步骤，当然为了避免每次部署都要输入两个Repo的用户名和密码，还是使用SSH比较方便。具体方法可以参考Github和OsChina的文档。 部署 1hexo deploy #`hexo d` for short 至此，我们已经可以使用如下地址访问自己的博客了。12http://deepim.github.iohttp://deepim.gitee.io 绑定域名虽然👆的地址不算复杂，但是还是希望有个更容易记的地址已经国内外分流的功能。技巧就是使用Dnspod来管理你的域名，在设置A记录的时候线路分别设置国内国外。⚠️ : 我设置不同的A记录，来指向Github和OsChinaNote: Github需要CNAME文件在source目录, Coding需要Staticfile在source目录中更新: A记录到OsChina还是不行。OsChina甚至CNAME也不行，Coiding虽然CNAME是可以，但是DNSPOD提示CNAME和MX记录冲突，目前无解中 如何找到地址12ping deepim.github.ioping deepim.gitee.io 如何验证线路使用这个网站Ping可以检测绑定的线路是否正确相应。⚠️ : 不要测试很多次，小心503 其他 七牛网，很好的图床，实名后免费福利多 👉Link Livere, 评论平台 👉Link Next主题，简洁大方 👉Link]]></content>
      <categories>
        <category>网络</category>
      </categories>
      <tags>
        <tag>hexo</tag>
        <tag>github</tag>
      </tags>
  </entry>
</search>
